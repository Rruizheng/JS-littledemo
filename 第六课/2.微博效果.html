<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>模仿微博</title>
		<style>
			body,form,div,input,ul,li,p{margin: 0;padding: 0;}
			a{text-decoration: none;}
			a:hover{text-decoration: underline;}
			ul{list-style-type: none;}
			body{font: 12px/1.5 \5b8b\4f53;color: #333;background: #3c3a3b;}
			
			#msgBox{background: #fff;width: 500px;margin: 10px auto;padding-top:10px;border-radius: 5px;}
			
			form{padding: 0 20px 15px;background: url(img/boxBG.jpg) repeat-x;background-position:0 bottom;}
			form h2{font-weight:400;font:400 18px/1.5 \5fae\8f6f\96c5\9ed1;}
			#userName,#conBox{color: #777;border: 1px solid #d0d0d0;border-radius: 5px;background: #fff url(img/inputBG.png) repeat-x 0 top;padding: 3px 5px;font: 14px/1.5 arial;}
			#userName.active,#conBox.active{border:1px solid #7abb2c;}
			#userName{height: 20px;}
			#conBox{width: 448px;height: 65px;resize: none;overflow: auto;}
			form div{position: relative;color: #999;margin-top: 10px;}
			#msgBox img{border-radius: 3px;}
			#face{position: absolute;top: 0;left: 172px;}
			#face img{width: 30px;height: 30px;cursor: pointer;opacity: 0.5;filter: alpha(opacity=50);}
			#face img.current,#face img:hover{width: 28px;height: 28px;border: 1px #f60 solid;opacity: 1;filter: alpha(opacity=100);}
			
			.tr{overflow: hidden;zoom: 1;}
			.tr p{float: right;display: block;}
			.tr strong.maxNum{font:26px/30px Georgia, Tahoma, Arial;padding:0 5px;}
			#sendBtn{background: url(img/btn.png) no-repeat;width: 112px;height: 30px;border: 0;margin-left: 10px;cursor: pointer;}
			#sendBtn:hover{background-position: 0 -30px;}
			
			.list{padding: 10px;}
			.list h3{position: relative;height: 33px;font-size: 14px;font-weight: 400;background: #e3eaec;border: 1px solid #dee4e7;}
			.list h3 span{position: absolute;left: 6px;top: 6px;background: #fff;line-height: 28px;display: inline-block;padding: 0 15px;}
			.list ul{overflow: hidden;zoom: 1;}
			.list ul li{float: left;clear: both;width: 100%;border-bottom: 1px dashed #d8d8d8;padding: 10px 0;background: #fff;overflow: hidden;}
			.list ul li:hover{background: #f5f5f5;}
			.list ul li .userPic{float: left;width: 50px;height: 50px;display: inline;margin-left: 10px;border: 1px solid #ccc;border-radius: 3px;}
			.list ul li .content{margin-left: 10px;width: 400px;float: left;font-size: 14px;font-family: arial;word-wrap: break-word;}
			.list ul li .userName{float: left;display: inline;padding-right: 5px;}
			.list ul li .userName a{color: #2b4a78;}
			.list ul li .msgInfo{display: inline;word-wrap: break-word;}
			.list ul li .times{color: #889db6;font: 12px/18px arial;margin-top: 5px;overflow: hidden;zoom: 1;}
			.list ul li .times span{float: left;}
			.list ul li .del{float: right;color: #889db6;display: none;}
			
		</style>
	</head>
	<body>
		<div id="msgBox">
			<form>
				<h2>来，说说你在做什么，想什么</h2>
				<div>
					<input id="userName" type="f-text" value=""/>
					<p id="face">
						<img src="img/face1.gif" class="current" />
						<img src="img/face2.gif" alt="" />
						<img src="img/face3.gif" alt="" />
						<img src="img/face4.gif" alt="" />
						<img src="img/face5.gif" alt="" />
						<img src="img/face6.gif" alt="" />
						<img src="img/face7.gif" alt="" />
						<img src="img/face8.gif" alt="" />			
					</p>
				</div>
				<div>
					<textarea id="conBox" class="f-text"></textarea>
				</div>
				<div class="tr">
					<p><span>还能输入</span><strong class="maxNum">140</strong><span>个字</span>
					<input type="button" id="sendBtn" value="" title="快捷键Ctrl+Enter" /></p>
				</div>
			</form>
			
			<div class="list">
				<h3><span>大家在说</span></h3>
				<ul>
					<li>
						<div class="userPic"><img src="img/face.gif"/></div>
						<div class="content">
							<div class="userName"><a href="javascript:;">十九</a>：</div>
							<div class="msgInfo">新增Ctrl+Enter快捷键发送广播。</div>
							<div class="times"><span>10月1日 12:00</span>	<a class="del" href="javascript:;">删除</a></div>
						</div>
					</li>
					<li>
						<div class="userPic"><img src="img/face.gif"/></div>
						<div class="content">
							<div class="userName"><a href="javascript:;">十九</a>：</div>
							<div class="msgInfo">新增选择头像功能。</div>
							<div class="times"><span>10月1日 12:00</span>	<a class="del" href="javascript:;">删除</a></div>
						</div>
					</li>
					<li>
						<div class="userPic"><img src="img/face.gif"/></div>
						<div class="content">
							<div class="userName"><a href="javascript:;">十九</a>：</div>
							<div class="msgInfo">增加了记录广播时间的功能。</div>
							<div class="times"><span>10月1日 12:00</span>	<a class="del" href="javascript:;">删除</a></div>
						</div>
					</li>
					<li>
						<div class="userPic"><img src="img/face.gif"/></div>
						<div class="content">
							<div class="userName"><a href="javascript:;">十九</a>：</div>
							<div class="msgInfo">增加了输入字符检测功能，英文/半角为半个字符，汉字/全角为一个字符。</div>
							<div class="times"><span>10月1日 12:00</span>	<a class="del" href="javascript:;">删除</a></div>
						</div>
					</li>
					<li>
						<div class="userPic"><img src="img/face.gif"/></div>
						<div class="content">
							<div class="userName"><a href="javascript:;">十九</a>：</div>
							<div class="msgInfo">仿腾讯微博效果，欢迎大家测试！</div>
							<div class="times"><span>10月1日 12:00</span>	<a class="del" href="javascript:;">删除</a></div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		
		<script type="text/javascript">
			var EventUtil = {
				addHandler: function(oElement,sEvent,fnHandler){
					oElement.addEventListener ? oElement.addEventListener(sEvent,fnHandler,false) : (oElement["_"+sEvent+fnHandler]=fnHandler,//把fnHandler存到一个oElement[]里面
					oElement[sEvent + fnHandler] = function(){oElement["_"+sEvent+fnHandler]()},//调用function(){fnHandler}?为什么要这么写呢？？？
					oElement.attachEvent("on"+sEvent,oElement[sEvent+fnHandler]))
				},
				removeHandler: function(oElement,sEvent,fnHandler){
					oElement.removeEventListener ? oElement.removeEventListener(sEvent,fnHandler,false) : 
					oElement.detachEvent("on"+sEvent,oElement[sEvent+fnHandler])
				},
				
				addLoadHandler: function(fnHandler){
					this.addHandler(window,"load",fnHandler);
				}
			}
			
			var get = {
				byId: function(id){
					//如果id不是字符串，返回id，是字符串，返回取得的id元素
					return typeof id === "string" ? document.getElementById(id) : id;
				},
				byTagName: function(elem,obj){
					return (obj || document).getElementsByTagName(elem);
				},
				byClass: function(sClass,oParent){
					var aClass = [];
					var reClass = new RegExp("(^| )" + sClass + "( |$)");
					var aElem = this.byTagName("*",oParent);
					//oParent下的所有元素放在aELem里面
					for(var i=0; i<aElem.length;i++){
						//逐一检验oParent的子元素，如果有className是reClass就放在aClass里面。
						reClass.test(aElem[i].className)&&aClass.push(aElem[i]);	
					}
					return aClass;
				}
			}
			
			//设置css格式
			function css(obj,attr,value){
				//检验给函数的参数个数
				switch(arguments.length){
					case 2:
					//例如css(oLi, {"opacity" : "0", "height" : "0"});设置了对象obj,第二个对象类型是object,批量设置属性。style[i]=attr[i]。attr[opacity] = 0。
						if(typeof argument[1] == "object"){
							for(var i in attr) i == "opacity" ?(obj.style["filter"] = "alpha(opacity=" + attr[i] + ")") : obj.style[i] = attr[i];
					//例如css(oLi, "height");第二个对象类型是string,读取属性
						}else{
							//IE用currentStyle方法，没有的话，用getComputedStyle方法
							return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj,null)[attr]
						}
						break;
					//有三个参数，单一设置属性。
					case 3:
						attr == "opacity" ? (obj.style["filter"] = "alpha(opacity=" + value + ")",obj.style[attr] = value/100) : obj.style[attr] = value;
						break;
				}
			};
				
				
				//输入内容的时候的字符统计
				//提交时检查用户名和内容
				//Crtl+Enter发送广播
				//添加消息到list
				//字符检测功能
				//删除功能
				
			
		</script>
	</body>
</html>
